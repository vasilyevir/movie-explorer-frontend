{"version":3,"sources":["components/Header/Header.js","components/Footer/Footer.js","images/Avatar.jpeg","images/arrow.svg","components/Main/Main.js","images/logo.svg","components/UseForm/UseForm.js","components/Login/Login.js","components/Register/Register.js","contexts/CurrentMoviesContext.js","components/Card/Card.js","components/MoviesList/MoviesList.js","images/account.svg","components/Movies/Movies.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/NotFounded/NotFounded.js","components/SavedMovies/SavedMovies.js","utils/MainApi.js","utils/MoviesApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","header","children","Footer","href","Main","to","loggedIn","id","name","src","Avatar","alt","Arrow","useForm","React","useState","values","setValues","handleChange","event","target","value","useFormWithValidation","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","validationMessage","closest","checkValidity","Login","formData","checkForm","e","Logo","onSubmit","preventDefault","onLogin","required","type","onChange","email","minLength","password","message","Register","onRegister","maxLength","CurrentMoviesContext","createContext","Card","movieShow","durationHours","films","duration","durationMinutes","savedMovies","nameFilm","shortFilm","isSearched","isLiked","console","log","localStorage","isOpen","show","handleCardDeleteLike","deleteLike","_id","trailer","image","nameRU","onClick","like","catch","err","MoviesList","moviesList","map","item","cardLike","Movies","useContext","currentMovies","setCurrentMovies","quantityFilmsOnPage","quantityAddCardOnPage","increaseQuantity","setNameFilm","setShortFilm","userData","setUserData","checkShowCard","film","movieId","handleMenuButtonClick","closeAllPopups","filterMovie","placeholder","checked","removeButton","state","array","i","JSON","parse","movies","setItem","stringify","CurrentUserContext","Profile","currentUser","data","useFormWithValidationProfile","emailChanged","update","signOut","NotFounded","SavedMovies","submitForm","api","this","_address","address","fetch","headers","authorization","getItem","then","res","ok","json","Promise","reject","status","obj","method","body","country","director","year","description","nameEN","thumbnail","moviesId","getContent","checkResponse","statusText","ProtectedRoute","Component","component","App","setCurrentUser","setLoggedIn","setQuantityFilmsOnPage","setQuantityAddCardOnPage","setIsOpen","setRemoveButton","setMessage","addCard","num","arr","determiningQuantityCard","windowInnerWidth","window","innerWidth","onresize","setTimeout","createArrayMovies","movie","url","trailerLink","formats","forEach","isPopupOpen","history","useHistory","useEffect","push","getMovies","savedMoviesList","MoviesApi","length","tokenCheck","getInformation","handleMovieDeleteLike","cardId","deleteMovies","newCard","movieQuantity","handleFilterButtonClick","str","toUpperCase","filmName","indexOf","Provider","exact","path","authorize","Error","token","checkLoginError","register","statusCode","checkRegisterError","card","postMovies","c","removeItem","infoUser","changeProfile","checkUpdateProfileError","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6de19c5.chunk.js","sourcesContent":["import './Header.css';\r\n\r\nfunction Header(props) {\r\n    \r\n    return (\r\n        <div className={props.header === true ? 'header' : 'header header_movie'}>\r\n            <div className=\"logo\"></div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import './Footer.css';\r\n\r\nfunction Footer() {\r\n    \r\n    return (\r\n        <div className=\"footer\">\r\n            <h2 className=\"footer__header\"> Учебный проект Яндекс.Практикум х BeatFilm. </h2>\r\n            <div className=\"footer__container\">\r\n                <p className=\"footer__links\">© 2020</p>\r\n                <div className=\"footer__container-links\">\r\n                    <a href=\"https://praktikum.yandex.ru/profile/web/\" className=\"footer__links\">Яндекс.Практикум</a>\r\n                    <a href=\"https://github.com/vasilyevir\" className=\"footer__links\">Github</a>\r\n                    <a href=\"https://vk.com/vas.il400mh\" className=\"footer__links\">Vkontakte</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/Avatar.044f0245.jpeg\";","export default __webpack_public_path__ + \"static/media/arrow.093d837f.svg\";","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport './Main.css'\r\nimport {Link} from 'react-router-dom';\r\nimport Avatar from '../../images/Avatar.jpeg';\r\nimport Arrow from '../../images/arrow.svg'\r\n\r\nfunction Main(props) {\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"mainpage\">\r\n                <Header\r\n                    header = {true}\r\n                >\r\n                    <div className=\"header__nav-bar\">\r\n                        <Link className=\"header__register\" to={props.loggedIn ? '/signup' : '/movies'}>Регистрация</Link>\r\n                        <Link className=\"header__login\" to={ props.loggedIn ? '/signin' : '/movies'}>Войти</Link>\r\n                    </div>\r\n                </Header>\r\n                <div className=\"mainpage__landing\">\r\n                    <div className=\"mainpage__landing-image\"></div>\r\n                    <h1 className=\"mainpage__landing-heading\">Учебный проект студента факультета Веб-разработки.</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"navbar\">\r\n                <div className=\"navbar__links\">\r\n                    <Link to=\"#about\" className=\"navbar__link\">О проекте</Link>\r\n                    <Link to=\"#technology\" className=\"navbar__link\">Технологии</Link>\r\n                    <Link to=\"#student\" className=\"navbar__link\">Студент</Link>\r\n                </div>\r\n            </div>\r\n            <div id=\"about\" className=\"about\">\r\n                <h2 className=\"about__head\">О проекте</h2>\r\n                <div className=\"about__info\">\r\n                    <div className=\"about__heading\">Дипломный проект включал 5 этапов</div>\r\n                    <div className=\"about__paragraphs\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</div>\r\n                    <div className=\"about__heading\">На выполнение диплома ушло 5 недель</div>\r\n                    <div className=\"about__paragraphs\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</div>\r\n                </div>\r\n                <div className=\"about__time\">\r\n                    <div className=\"about__time-line\">1 неделя</div>\r\n                    <div className=\"about__time-line about__time-line_grey\">4 недели</div>\r\n                    <div className=\"about__time-text\">Back-end</div>\r\n                    <div className=\"about__time-text\">Front-end</div>\r\n                </div>\r\n            </div>\r\n            <div id=\"technology\" className=\"technology\">\r\n                <div className=\"technology__container\">    \r\n                    <h2 className=\"technology__head\">Технологии</h2>\r\n                    <div className=\"technology__info\">\r\n                        <h3 className=\"technology__header\">7 технологий</h3>\r\n                        <p className=\"technology__paragraph\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n                        <div className=\"technology__row\">\r\n                            <div className=\"technology__lang\">HTML</div>\r\n                            <div className=\"technology__lang\">CSS</div>\r\n                            <div className=\"technology__lang\">JS</div>\r\n                            <div className=\"technology__lang\">React</div>\r\n                            <div className=\"technology__lang\">Git</div>\r\n                            <div className=\"technology__lang\">Express.js</div>\r\n                            <div className=\"technology__lang\">mongoDB</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div name=\"student\" className=\"student\">\r\n                <h2 className=\"student__head\">Студент</h2>\r\n                <div className=\"student__container\">\r\n                    <img src={Avatar} alt=\"Аватар\" className=\"student__avatar\"/>\r\n                    <h2 className=\"student__heading\">Илья</h2>\r\n                    <h3 className=\"student__profile\">Фронтенд-разработчик, 20 лет</h3>\r\n                    <p className=\"student__about-me\">Я родился и живу в Санкт-Петербурге, учусь на робототехнике и мехатронике в СПбПУ. Занимался легкой атлетикой и добился там серьзных результатов, несколько раз был призером первенства России. Недавно начал кодить. После того, как прошёл курс по веб-разработке, хочу добиться высоких результатов и в данной сфере.</p>\r\n                    <a href=\"https://vk.com/vas.il400mh\" className=\"student__link\">Vkontakte</a>\r\n                    <a href=\"https://github.com/vasilyevir\" className=\"student__link\">Github</a>\r\n                </div>\r\n                <div className=\"student__portfolio\">\r\n                    <h3 className=\"student__profile student__profile_portfolio\">Портфолио</h3>\r\n                    <a href=\"https://github.com/vasilyevir/how-to-learn/blob/master/index.html\" className=\"student__block-site\">\r\n                        <p className=\"student__text-site\">Статичный сайт</p>\r\n                        <img src={Arrow} alt=\"Стрелка\" className=\"student__arrow\"/>\r\n                    </a>\r\n                    <a href=\"https://github.com/vasilyevir/russian-travel\" className=\"student__block-site\">\r\n                        <p className=\"student__text-site\">Адаптивный сайт</p>\r\n                        <img src={Arrow} alt=\"Стрелка\" className=\"student__arrow\"/>\r\n                    </a>\r\n                    <a href=\"https://github.com/vasilyevir/react-mesto-api-full\" className=\"student__block-site\">\r\n                        <p className=\"student__text-site\">Одностраничное приложение</p>\r\n                        <img src={Arrow} alt=\"Стрелка\" className=\"student__arrow\"/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/logo.2c9dd0bb.svg\";","import React, { useCallback } from \"react\";\r\n\r\n//хук управления формой\r\nexport const useForm = () => {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setValues({...values, [name]: value});\r\n  };\r\n\r\n  return {values, handleChange, setValues};\r\n}\r\n\r\n//хук управления формой и валидации формы\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm };\r\n}\r\n\r\nexport function useFormWithValidationProfile(data) {\r\n    const [values, setValues] = React.useState(data);\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n  \r\n    const handleChange = (event) => {\r\n      const target = event.target;\r\n      const name = target.name;\r\n      const value = target.value;\r\n      setValues({...values, [name]: value});\r\n      setErrors({...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    };\r\n  \r\n    const resetForm = useCallback(\r\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n        setValues(newValues);\r\n        setErrors(newErrors);\r\n        setIsValid(newIsValid);\r\n      },\r\n      [setValues, setErrors, setIsValid]\r\n    );\r\n  \r\n    return { values, handleChange, errors, isValid, resetForm };\r\n  }","import {Link} from 'react-router-dom';\r\nimport Logo from '../../images/logo.svg';\r\n// import {useState} from 'react';\r\nimport {useForm, useFormWithValidation} from '../UseForm/UseForm';\r\nimport './Login.css'\r\n\r\nfunction Login(props) {\r\n\r\n    // const [userData, setUserData] = useState({\r\n    //     email: '',\r\n    //     password: ''\r\n    //   })\r\n    // const [message, setMessage] = useState('');\r\n\r\n    const formData = useForm();\r\n    const checkForm = useFormWithValidation();\r\n\r\n    const handleChange = (e) => {\r\n        formData.handleChange(e);\r\n        checkForm.handleChange(e);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        // console.log(userData)\r\n        e.preventDefault();\r\n        props.onLogin(formData.values)\r\n        // .catch(err => setMessage(err.message || 'Что-то пошло не так'));\r\n    }\r\n\r\n    return (\r\n        <section className='login'>\r\n            <Link to='/'>\r\n                <img src={Logo} alt=\"Аватар\" className=\"login__logo\"/>\r\n            </Link>\r\n            <h1 className='login__head'>Рады видеть!</h1>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <div className=\"login__constructor\">\r\n                    <p className=\"login__signature\">E-mail</p>\r\n                    <input required type=\"email\" className=\"login__input\" id=\"name\" onChange={handleChange} value={formData.values.email} name=\"email\"/>\r\n                    <span id=\"name-error\" className=\"login__error\">{checkForm.errors.email}</span>\r\n                </div>\r\n                <div className=\"login__constructor\">\r\n                    <p className=\"login__signature\">Пароль</p>\r\n                    <input type=\"password\" minLength=\"8\" className=\"login__input\" id=\"name\" onChange={handleChange} value={formData.values.password} name=\"password\"/>\r\n                    <span id=\"name-error\" className=\"login__error\">{checkForm.errors.password}</span>\r\n                </div>\r\n                <p className=\"login__error\">{props.message}</p>\r\n                <button className=\"login__button login__button_register\">Войти</button>\r\n            </form>\r\n            <p className=\"login__question\">\r\n                Ещё не зарегистрированы? <Link className=\"login__redirection\" to='/signup'>Регистрация</Link>\r\n            </p>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import {Link} from 'react-router-dom';\r\nimport Logo from '../../images/logo.svg'\r\nimport {useState} from 'react';\r\nimport './Register.css'\r\nimport {useForm, useFormWithValidation} from '../UseForm/UseForm';\r\n\r\nfunction Register(props) {\r\n    const formData = useForm();\r\n    const checkForm = useFormWithValidation();\r\n    \r\n    const handleChange = (e) => {\r\n        formData.handleChange(e);\r\n        checkForm.handleChange(e);\r\n    }\r\n\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onRegister(formData.values)\r\n    }  \r\n\r\n    return (\r\n        <section className='login'>\r\n            <Link to='/'>\r\n                <img src={Logo} alt=\"Аватар\" className=\"login__logo\"/>\r\n            </Link>\r\n            <h1 className='login__head'>Добро пожаловать!</h1>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <div className=\"login__constructor\">\r\n                    <p className=\"login__signature\">Имя</p>\r\n                    <input required minLength=\"2\" maxLength=\"40\" type=\"text\" className=\"login__input\" id=\"name\" value={formData.values.name} onChange={handleChange} name=\"name\"/>\r\n                    <span id=\"name-error\" className=\"login__error\">{checkForm.errors.name}</span>\r\n                </div>\r\n                <div className=\"login__constructor\">\r\n                    <p className=\"login__signature\">E-mail</p>\r\n                    <input required minLength=\"2\" maxLength=\"40\" type=\"email\" className=\"login__input\" id=\"email\" value={formData.values.email} onChange={handleChange} name=\"email\"/>\r\n                    <span id=\"name-error\" className=\"login__error\">{checkForm.errors.email}</span>\r\n                </div>\r\n                <div className=\"login__constructor\">\r\n                    <p className=\"login__signature\">Пароль</p>\r\n                    <input required minLength=\"8\" type=\"password\" className=\"login__input\" id=\"password\" value={formData.values.password} onChange={handleChange} name=\"password\"/>\r\n                    <span id=\"name-error\" className=\"login__error\">{checkForm.errors.password}</span>\r\n                </div>\r\n                <p className=\"login__error\">{props.message}</p>\r\n                <button className=\"login__button\">Зарегистрироваться</button>\r\n            </form>\r\n            <p className=\"login__question\">\r\n                Уже зарегистрированы? <Link className=\"login__redirection\" to='/signin'>Войти</Link>\r\n            </p>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n","import {createContext} from 'react';\r\n\r\nconst CurrentMoviesContext = createContext();\r\n\r\nexport default CurrentMoviesContext","import './Card.css';\r\n\r\n\r\nfunction Card(props) {\r\n    const durationHours =(props.films.duration - props.films.duration % 60)/60 + 'ч';\r\n    const durationMinutes = props.films.duration % 60 + 'м';\r\n    let movieShow;\r\n    if (props.savedMovies){\r\n        //сохраненные фильмы\r\n        if (props.nameFilm){\r\n            //задан поиск\r\n            if (props.shortFilm) {\r\n                //задан\r\n                if (props.films.isSearched){\r\n                    // найден\r\n                    if (props.films.isLiked){\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                } else {\r\n                    if (props.films.isLiked){\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                }\r\n            } else {\r\n                if (props.films.isSearched){\r\n                    // найден\r\n                    if (props.films.isLiked){\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                } else {\r\n                    movieShow = false;\r\n                }\r\n            }\r\n        } else {\r\n            if (props.shortFilm) {\r\n                //задан\r\n                if (props.films.isSearched){\r\n                    // найден\r\n                    if (props.films.isLiked){\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                } else {\r\n                    movieShow = false;\r\n                }\r\n            } else { \r\n                if (props.films.isLiked){\r\n                    movieShow = true;\r\n                } else {\r\n                    movieShow = false;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        console.log(localStorage.isOpen)\r\n        if (localStorage.isOpen) {\r\n            // после открытия страницы\r\n            if (props.films.isSearched){\r\n                // найден\r\n                movieShow = true;\r\n            } else {\r\n                movieShow = false;\r\n            }\r\n        } else {\r\n            if (props.nameFilm){\r\n                //задан поиск\r\n                if (props.shortFilm) {\r\n                    //задан\r\n                    if (props.films.isSearched){\r\n                        // найден\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                } else {\r\n                    if (props.films.isSearched){\r\n                        // найден\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                }\r\n            } else {\r\n                if (props.shortFilm) {\r\n                    //задан\r\n                    if (props.films.isSearched){\r\n                        // найден\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                } else {\r\n                    if (props.films.show){\r\n                        movieShow = true;\r\n                    } else {\r\n                        movieShow = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleCardLike = () => {\r\n        props.like(props.films)\r\n        .catch(err => console.log(err));\r\n        // localStorage.setItem('movies', JSON.stringify(currentMovies))\r\n        // console.log(currentMovies, 'like card', JSON.parse(localStorage.movies))\r\n    }\r\n\r\n    const handleCardDeleteLike = () => {\r\n        props.deleteLike(props.films._id)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={movieShow ? \"card\" : \"card card_invisible\"}>\r\n            <a href={props.films.trailer}>\r\n                <img src={props.films.image} alt={props.films.nameRU} className=\"card__image\"/>\r\n            </a>\r\n            <div className=\"card__underline\">\r\n                <p className=\"card__name\">{props.films.nameRU}</p>\r\n                { \r\n                    props.savedMovies ? ( <button onClick={handleCardDeleteLike} className=\"card__button-delete\"></button> ) :\r\n                    ( <button onClick={props.films.isLiked ? handleCardDeleteLike : handleCardLike} className={props.films.isLiked ? \"card__button-like card__button-like_is-liked\" : \"card__button-like\" }></button> )\r\n                }\r\n            </div>\r\n            <div className=\"card__constructor-time\">\r\n                <p className=\"card__film-length\">{durationHours === '0ч' ?  `${durationMinutes}` : `${durationHours} ${durationMinutes}`}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n","import { useContext } from 'react';\r\nimport CurrentMoviesContext from '../../contexts/CurrentMoviesContext';\r\nimport Card from '../Card/Card';\r\n\r\nfunction MoviesList(props) {\r\n    \r\n    return (\r\n        <section className=\"movies-cardlist\">\r\n            {props.moviesList.map((item, id)=>(\r\n                <Card\r\n                    shortFilm={props.shortFilm}\r\n                    nameFilm={props.nameFilm}\r\n                    key = {id}\r\n                    films = {item}\r\n                    like = {props.cardLike}\r\n                    savedMovies = {false}\r\n                    deleteLike={props.deleteLike}\r\n                    // isOpen={}\r\n                />\r\n            )\r\n            )}\r\n        </section>\r\n    )\r\n}\r\n\r\n\r\nexport default MoviesList;\r\n","export default __webpack_public_path__ + \"static/media/account.3f38247f.svg\";","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport MoviesList from '../MoviesList/MoviesList';\r\nimport './Movies.css'\r\nimport {Link} from 'react-router-dom';\r\nimport Avatar from '../../images/account.svg';\r\nimport {useState, useContext} from 'react';\r\nimport CurrentMoviesContext from '../../contexts/CurrentMoviesContext';\r\n\r\nfunction Movies(props) {\r\n    const [currentMovies, setCurrentMovies] = useContext(CurrentMoviesContext);\r\n    const quantityFilmsOnPage = props.quantityFilmsOnPage;\r\n    const quantityAddCardOnPage = props.quantityAddCardOnPage;\r\n    const increaseQuantity = props.increaseQuantity;\r\n    const [nameFilm, setNameFilm] = useState('');\r\n    const [shortFilm, setShortFilm] = useState(false);\r\n    const [userData, setUserData] = useState({\r\n        nameFilm: '',\r\n        shortFilm: false,\r\n      })\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUserData({\r\n            ...userData,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const checkShowCard = (film) => {\r\n        if (film.movieId <= quantityFilmsOnPage + quantityAddCardOnPage){\r\n          film.show = true\r\n        } else {\r\n          film.show = false\r\n        }\r\n        return film\r\n      }\r\n    \r\n      const addCardOnList = () => {\r\n        increaseQuantity();\r\n        setCurrentMovies(state => state.map(film => checkShowCard(film)))\r\n        const array = [];\r\n        let i =0;\r\n        JSON.parse(localStorage.movies).map(film => {\r\n            array[i] = checkShowCard(film)\r\n            i++;\r\n        })\r\n        localStorage.setItem('movies', JSON.stringify(array))\r\n      }\r\n\r\n    const handleChangeCheckbox = (e) => {\r\n        console.log(e.target.value)\r\n        const { name } = e.target;\r\n        if(userData.shortFilm === true){\r\n            setUserData({\r\n                ...userData,\r\n                [name]: false\r\n            })\r\n            console.log(userData)\r\n        } else {\r\n            setUserData({\r\n                ...userData,\r\n                [name]: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        setNameFilm(userData.nameFilm);\r\n        setShortFilm(userData.shortFilm);\r\n        e.preventDefault();\r\n        props.filterMovie(userData.nameFilm, userData.shortFilm)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <div className=\"header__nav-bar header__nav-bar_movies\">\r\n                    <div className=\"header__films-link\">\r\n                        <Link to='/movies' className=\"header__links\">Фильмы</Link>\r\n                        <Link to='/saved-movies' className=\"header__links\">Сохранённые фильмы</Link>\r\n                    </div>\r\n                    <Link to='/profile' className=\"header__account\">\r\n                        <p className=\"header__account-text\">Аккаунт</p>\r\n                        <div className=\"header__account-logo\">\r\n                            <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <button className=\"header__btn-popup\" onClick={props.handleMenuButtonClick}></button>\r\n                <section className={`popup ${props.isOpen && 'popup_is-opened'}`}>\r\n                    <div className=\"popup__window popup__window_type_form\"> \r\n                        <button\r\n                            onClick={props.closeAllPopups} \r\n                            className={`popup__btn-close`} \r\n                            type=\"button\"\r\n                        ></button>\r\n                        <div className=\"popup__list\" name=\"formEdit\">\r\n                            <div className=\"popup__nav-link\">\r\n                                <Link to='/' className=\"popup__links\">Главная</Link>\r\n                                <Link to='/movies' className=\"popup__links\">Фильмы</Link>\r\n                                <Link to='/saved-movies' className=\"popup__links\">Сохранённые фильмы</Link>\r\n                            </div>\r\n                            <Link to='/profile' className=\"header__account header__account_min-width\">\r\n                                <p className=\"header__account-text\">Аккаунт</p>\r\n                                <div className=\"header__account-logo\">\r\n                                    <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Header>\r\n            <section className=\"search-form\">\r\n                <form className=\"search-form__form\" onSubmit={handleSubmit}>\r\n                    <div className=\"search-form__find-constructor\">\r\n                        <input placeholder=\"Фильм\" className=\"search-form__input\" onChange={handleChange} value={userData.nameFilm} name=\"nameFilm\"></input>\r\n                        <button className=\"search-form__button\">Найти</button>\r\n                    </div>\r\n                    <label className=\"search-form__label\">\r\n                        <input type=\"checkbox\" className=\"search-form__checkbox\" onChange={handleChangeCheckbox} checked={userData.shortFilm} name=\"shortFilm\"></input>\r\n                        <span className=\"search-form__checkbox-round\"></span>\r\n                        <span className=\"search-form__visible-checkbox\"></span>\r\n                        <span className=\"search-form__checkbox-text\">Короткометражки</span>\r\n                    </label>\r\n                </form>\r\n            </section>   \r\n            <MoviesList\r\n                deleteLike={props.deleteLike}\r\n                cardLike = {props.cardLike}\r\n                nameFilm={nameFilm}\r\n                shortFilm={shortFilm}\r\n                moviesList={currentMovies}\r\n            />\r\n            <button className={props.removeButton ? \"movies-cardlist__button movies-cardlist__button_invisible\" : \"movies-cardlist__button\"} onClick={addCardOnList}>Ещё</button>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Movies;\r\n","import {createContext} from 'react';\r\n\r\nconst CurrentUserContext = createContext();\r\n\r\nexport default CurrentUserContext","import {Link} from 'react-router-dom';\r\nimport Header from '../Header/Header'\r\nimport Avatar from '../../images/account.svg'\r\nimport {useState, useContext} from 'react';\r\nimport {useFormWithValidationProfile} from '../UseForm/UseForm';\r\nimport './Profile.css'\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\nfunction Profile(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const checkForm = useFormWithValidationProfile(currentUser);\r\n\r\n    const handleChange = (e) => {\r\n        checkForm.handleChange(e);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const emailChanged = currentUser.email === checkForm.values ? false : true;\r\n        props.update(checkForm.values, emailChanged)\r\n    }\r\n    \r\n    return (\r\n            <>        \r\n                <Header>\r\n                    <div className=\"header__nav-bar header__nav-bar_movies\">\r\n                        <div className=\"header__films-link\">\r\n                            <Link to='/movies' className=\"header__links\">Фильмы</Link>\r\n                            <Link to='/saved-movies' className=\"header__links\">Сохранённые фильмы</Link>\r\n                        </div>\r\n                        <Link to='/profile' className=\"header__account\">\r\n                            <p className=\"header__account-text\">Аккаунт</p>\r\n                            <div className=\"header__account-logo\">\r\n                                <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                    <button className=\"header__btn-popup\" onClick={props.handleMenuButtonClick}></button>\r\n                    <section className={`popup ${props.isOpen && 'popup_is-opened'}`}>\r\n                    <div className=\"popup__window popup__window_type_form\"> \r\n                        <button\r\n                            onClick={props.closeAllPopups} \r\n                            className={`popup__btn-close`} \r\n                            type=\"button\"\r\n                        ></button>\r\n                        <div className=\"popup__list\">\r\n                            <div className=\"popup__nav-link\">\r\n                                <Link to='/' className=\"popup__links\">Главная</Link>\r\n                                <Link to='/movies' className=\"popup__links\">Фильмы</Link>\r\n                                <Link to='/saved-movies' className=\"popup__links\">Сохранённые фильмы</Link>\r\n                            </div>\r\n                            <Link to='/profile' className=\"header__account header__account_min-width\">\r\n                                <p className=\"header__account-text\">Аккаунт</p>\r\n                                <div className=\"header__account-logo\">\r\n                                    <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                </Header>\r\n                <section className='profile'>\r\n                    <h1 className='profile__head'>Привет, Илья</h1>\r\n                    <form className=\"profile__form\" onSubmit={handleSubmit}>\r\n                        <div className=\"profile__constructor\">\r\n                            <p className=\"profile__signature\">Имя</p>\r\n                            <input required minLength=\"2\" maxLength=\"40\" type=\"text\" className=\"profile__input\" id=\"name\" onChange={handleChange} value={checkForm.values.name} name=\"name\"/>\r\n                        </div>\r\n                        <span id=\"name-error\" className=\"login__error\">{checkForm.errors.name}</span>\r\n                        <div className=\"profile__constructor\">\r\n                            <p className=\"profile__signature\">E-mail</p>\r\n                            <input required minLength=\"2\" maxLength=\"40\" type=\"email\" className=\"profile__input\" id=\"name\" onChange={handleChange} value={checkForm.values.email} name=\"email\"/>\r\n                        </div>\r\n                        <span id=\"name-error\" className=\"login__error\">{checkForm.errors.email}</span>\r\n                        <span id=\"name-error\" className=\"login__error\">{props.message}</span>\r\n                        <button className=\"profile__button profile__button_register\">Редактировать</button>\r\n                    </form>\r\n                    <button className=\"profile__redirection\" onClick={props.signOut} to='/signup'>Выйти из аккаунта</button>\r\n                </section>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import { Link } from 'react-router-dom';\r\nimport './NotFounded.css';\r\n\r\n\r\nfunction NotFounded() {\r\n    \r\n    return (\r\n        <div className=\"not-founded\">\r\n            <h1 className=\"not-founded__head\">404</h1>\r\n            <p className=\"not-founded__paragraph\">Страница не найдена</p>\r\n            <Link to=\"/\" className=\"not-founded__button\">Назад</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFounded;\r\n","import Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport Card from '../Card/Card';\r\nimport './SavedMovies.css'\r\nimport {Link} from 'react-router-dom';\r\nimport Avatar from '../../images/account.svg';\r\nimport {useContext, useState} from 'react';\r\nimport CurrentMoviesContext from '../../contexts/CurrentMoviesContext';\r\n\r\nfunction SavedMovies(props) {\r\n\r\n    const [currentMovies, setCurrentMovies] = useContext(CurrentMoviesContext);\r\n    const [nameFilm, setNameFilm] = useState('');\r\n    const [shortFilm, setShortFilm] = useState(false);\r\n    const [userData, setUserData] = useState({\r\n        nameFilm: '',\r\n        shortFilm: false,\r\n      })\r\n    const [message, setMessage] = useState('');\r\n\r\n\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUserData({\r\n            ...userData,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleChangeCheckbox = (e) => {\r\n        console.log(e.target.value)\r\n        const { name } = e.target;\r\n        if(userData.shortFilm === true){\r\n            setUserData({\r\n                ...userData,\r\n                [name]: false\r\n            })\r\n            console.log(userData)\r\n        } else {\r\n            setUserData({\r\n                ...userData,\r\n                [name]: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        setNameFilm(userData.nameFilm);\r\n        setShortFilm(userData.shortFilm);\r\n        e.preventDefault();\r\n        props.filterMovie(userData.nameFilm, userData.shortFilm)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <div className=\"header__nav-bar header__nav-bar_movies\">\r\n                    <div className=\"header__films-link\">\r\n                        <Link to='/movies' className=\"header__links\">Фильмы</Link>\r\n                        <Link to='/saved-movies' className=\"header__links\">Сохранённые фильмы</Link>\r\n                    </div>\r\n                    <Link to='/profile' className=\"header__account\">\r\n                        <p className=\"header__account-text\">Аккаунт</p>\r\n                        <div className=\"header__account-logo\">\r\n                            <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <button className=\"header__btn-popup\" onClick={props.handleMenuButtonClick}></button>\r\n                <section className={`popup ${props.isOpen && 'popup_is-opened'}`}>\r\n                    <div className=\"popup__window popup__window_type_form\"> \r\n                        <button\r\n                            onClick={props.closeAllPopups} \r\n                            className={`popup__btn-close`} \r\n                            type=\"button\"\r\n                        ></button>\r\n                        <form className={`popup__list`} onSubmit={props.submitForm} name=\"formEdit\">\r\n                            <div className=\"popup__nav-link\">\r\n                                <Link to='/' className=\"popup__links\">Главная</Link>\r\n                                <Link to='/movies' className=\"popup__links\">Фильмы</Link>\r\n                                <Link to='/saved-movies' className=\"popup__links\">Сохранённые фильмы</Link>\r\n                            </div>\r\n                            <Link to='/profile' className=\"header__account\">\r\n                                <p className=\"header__account-text\">Аккаунт</p>\r\n                                <div className=\"header__account-logo\">\r\n                                    <img src={Avatar} alt='account logo' className=\"header__logo-man\"/>\r\n                                </div>\r\n                            </Link>\r\n                        </form>\r\n                    </div>\r\n                </section>\r\n            </Header>\r\n            <section className=\"search-form\">\r\n                <form className=\"search-form__form\" onSubmit={handleSubmit}>\r\n                    <div className=\"search-form__find-constructor\">\r\n                        <input placeholder=\"Фильм\" className=\"search-form__input\" onChange={handleChange} value={userData.nameFilm} name=\"nameFilm\"></input>\r\n                        <button className=\"search-form__button\">Найти</button>\r\n                    </div>\r\n                    <label className=\"search-form__label\">\r\n                        <input type=\"checkbox\" className=\"search-form__checkbox\" onChange={handleChangeCheckbox} checked={userData.shortFilm} name=\"shortFilm\"></input>\r\n                        <span className=\"search-form__checkbox-round\"></span>\r\n                        <span className=\"search-form__visible-checkbox\"></span>\r\n                        <span className=\"search-form__checkbox-text\">Короткометражки</span>\r\n                    </label>\r\n                </form>\r\n            </section>   \r\n            <section className=\"movies-cardlist\">\r\n                {JSON.parse(localStorage.movies).map((item, id)=>(\r\n                    <Card\r\n                        key = {id}\r\n                        films = {item}\r\n                        deleteLike={props.deleteLike}\r\n                        savedMovies={true}\r\n                        nameFilm={nameFilm}\r\n                        shortFilm={shortFilm}\r\n                    />\r\n                )\r\n                )}\r\n            </section>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SavedMovies;\r\n","class Api{\r\n    constructor(data){\r\n        this._address = data.address;\r\n    }\r\n    \r\n    getInformation(){\r\n        return fetch(`${this._address}/users/me`, {\r\n            headers: {\r\n                authorization : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        });\r\n    }\r\n\r\n    getMovies(){\r\n        return fetch(`${this._address}/movies`,{\r\n            headers: {\r\n                authorization : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n    changeProfile(obj){\r\n        console.log(obj)\r\n        return fetch(`${this._address}/users/me`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n              authorization: `Bearer ${localStorage.getItem('token')}`,\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: obj.name,\r\n                email: obj.email,\r\n                emailChanged: obj.emailChanged\r\n              })\r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n    postMovies(obj){\r\n        console.log(obj)\r\n        return fetch(`${this._address}/movies`,{\r\n            method: 'POST',\r\n            headers: {\r\n                authorization : `Bearer ${localStorage.getItem('token')}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                country: obj.country,\r\n                director: obj.director,\r\n                duration: obj.duration,\r\n                year: obj.year,\r\n                description: obj.description,\r\n                image: obj.image,\r\n                trailer: obj.trailer,\r\n                nameRU: obj.nameRU,\r\n                nameEN: obj.nameEN,\r\n                thumbnail: obj.thumbnail,\r\n                movieId: obj.movieId,\r\n              }) \r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n    deleteMovies(moviesId){\r\n        return fetch(`${this._address}/movies/${moviesId}`,{\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n    authorize(password, email){\r\n        return fetch(`${this._address}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password, \r\n            })\r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n        \r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n    register(name, email, password){\r\n        return fetch(`${this._address}/signup`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                email,\r\n                password\r\n              }) \r\n        })\r\n        .then((res) => {\r\n            if (res.ok){\r\n                return res.json();\r\n            }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n}\r\n\r\nconst config = {\r\n    address: `https://api.vasilyevir-movies.nomoredomains.icu`\r\n}\r\n\r\nconst api = new Api(config);\r\n\r\nexport default api;\r\n","export const BASE_URL = 'https://api.nomoreparties.co';\r\n\r\nexport const getContent = () => {\r\n    return fetch(`${BASE_URL}/beatfilm-movies`, {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then(checkResponse)\r\n};\r\n\r\nconst checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.statusText}`)","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import Main from '../Main/Main';\r\nimport Login from '../Login/Login';\r\nimport Register from '../Register/Register';\r\nimport Movies from '../Movies/Movies';\r\nimport Profile from '../Profile/Profile';\r\nimport NotFounded from '../NotFounded/NotFounded';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport { Route, Switch, Redirect, useHistory} from 'react-router-dom';\r\nimport {useState, useEffect} from 'react';\r\nimport api from '../../utils/MainApi';\r\nimport * as MoviesApi from '../../utils/MoviesApi';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport CurrentMoviesContext from '../../contexts/CurrentMoviesContext';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [currentMovies, setCurrentMovies] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [quantityFilmsOnPage, setQuantityFilmsOnPage] = useState(0);\r\n  const [quantityAddCardOnPage, setQuantityAddCardOnPage] = useState(0);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [removeButton, setRemoveButton] = useState(false)\r\n  const [message, setMessage] = useState()\r\n\r\n  const checkShowCard = (film, num) => {\r\n    if (film.movieId <= num){\r\n      film.show = true\r\n    } else {\r\n      film.show = false\r\n    }\r\n    return film\r\n  }\r\n\r\n  const addCard = (array, num) => {\r\n    // setCurrentMovies(() => array.map(film => checkShowCard(film, num)))/\r\n    const arr = [];\r\n    let i=0;\r\n    array.map(film => {\r\n      arr[i]=checkShowCard(film, num);\r\n      i++;\r\n    })\r\n    localStorage.setItem('movies', JSON.stringify(arr))\r\n  }\r\n  \r\n  const determiningQuantityCard = (array) => {\r\n    const windowInnerWidth = window.innerWidth\r\n      if (945 <= windowInnerWidth && 1267 > windowInnerWidth){\r\n        setQuantityFilmsOnPage(12);\r\n        setQuantityAddCardOnPage(3);\r\n        addCard(array, 12);\r\n      } else if (623 <= windowInnerWidth && 945 > windowInnerWidth) {\r\n        setQuantityFilmsOnPage(8);\r\n        setQuantityAddCardOnPage(2);\r\n        addCard(array, 8);\r\n      } else if (windowInnerWidth < 623) {\r\n        setQuantityFilmsOnPage(5);\r\n        setQuantityAddCardOnPage(1);\r\n        addCard(array, 5);\r\n      }else {\r\n        setQuantityFilmsOnPage(12);\r\n        setQuantityAddCardOnPage(4);\r\n        addCard(array, 12);\r\n      }\r\n  }\r\n\r\n\r\n  window.onresize = function() {\r\n    setTimeout(determiningQuantityCard(JSON.parse(localStorage.movies), quantityFilmsOnPage), 10000)\r\n  };\r\n\r\n\r\n  // useEffect(()=>{\r\n  //   determiningQuantityCard();\r\n  // },[])\r\n\r\n  const createArrayMovies = (obj, array) => {\r\n    const movie = {};\r\n    movie.isLiked = false\r\n    movie.isSearched = false\r\n    movie.country = obj.country;\r\n    movie.director = obj.director;\r\n    movie.duration = obj.duration;\r\n    movie.year = obj.year;\r\n    movie.description = obj.description;\r\n    movie.image = 'https://api.nomoreparties.co' + obj.image.url;\r\n    movie.trailer = obj.trailerLink;\r\n    movie.nameRU = obj.nameRU;\r\n    movie.nameEN = obj.nameEN;\r\n    movie.thumbnail = 'https://api.nomoreparties.co' +  obj.image.formats.thumbnail.url;\r\n    movie.movieId = obj.id;\r\n    movie.movieId <= quantityFilmsOnPage ? movie.show = true : movie.show = false;\r\n    array.forEach( item => {\r\n      if (item.movieId === movie.movieId){\r\n        movie.isLiked = true\r\n        movie._id = item._id;\r\n      }\r\n    })\r\n    return movie;\r\n  }\r\n\r\n  const handleMenuButtonClick = () =>{        \r\n    isPopupOpen();\r\n  }\r\n\r\n  const isPopupOpen = () =>{\r\n    setIsOpen(true);\r\n  }\r\n\r\n  const checkLoginError = (err) => {\r\n    if (err === 'Ошибка: 401'){\r\n      setMessage('Вы ввели неправильный логин или пароль.');\r\n    } else {\r\n      setMessage('При авторизации произошла ошибка. Токен не передан или передан не в том формате');\r\n    }\r\n  }\r\n\r\n  const handleLogin = ({ password, email  }) => {\r\n    return api.authorize(password, email)\r\n      .then((data) => {\r\n        if (!data) throw new Error('Неверные имя пользователя или пароль')\r\n        if (data.token) {\r\n          setLoggedIn(true)\r\n          localStorage.setItem('token', data.token)\r\n          localStorage.setItem('isOpen', false);\r\n          api.getMovies()\r\n            .then(data => {\r\n              const savedMoviesList = data.data\r\n              MoviesApi.getContent()\r\n                .then(data => {\r\n                  const moviesList = []\r\n                  for(let i=0; i<data.length; i++){\r\n                    moviesList[i] = createArrayMovies(data[i], savedMoviesList);\r\n                  }\r\n                  determiningQuantityCard(moviesList);\r\n                })\r\n                .catch((err)=>{console.log(err)})\r\n            })\r\n            .catch((err)=>{console.log(err)})\r\n\r\n          api.getInformation()\r\n            .then(data => {\r\n              setCurrentUser(data.data)\r\n            })\r\n            .catch((err)=>{console.log(err)})\r\n\r\n          return;\r\n        }\r\n      })\r\n      .catch((err) => \r\n          checkLoginError(err)\r\n        )\r\n  }\r\n\r\n  const checkRegisterError = (err) => {\r\n    if (err === 'Ошибка: 409'){\r\n      setMessage('Пользователь с таким email уже существует');\r\n    } else {\r\n      setMessage('При регистрации пользователя произошла ошибка.');\r\n    }\r\n  }\r\n\r\n  const handleRegister = ({ name, email, password  }) => {\r\n    return api.register( name, email, password)\r\n      .then((res) => {\r\n        if (!res || res.statusCode === 400) throw new Error('Что-то пошло не так');\r\n        history.push(\"/signin\");\r\n        return res;\r\n      })\r\n      .catch((err) => \r\n          checkRegisterError(err)\r\n        )\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push(\"/movies\");\r\n    }\r\n  }, [loggedIn])\r\n\r\n  useEffect(()=>{\r\n    api.getMovies()\r\n    .then(data => {\r\n      const savedMoviesList = data.data\r\n      MoviesApi.getContent()\r\n        .then(item => {\r\n          const moviesList = []\r\n          for(let i=0; i<item.length; i++){\r\n            moviesList[i] = createArrayMovies(item[i], savedMoviesList);\r\n          }\r\n          determiningQuantityCard(moviesList);\r\n        })\r\n        .catch((err)=>{console.log(err)})\r\n    })\r\n    .catch((err)=>{console.log(err)})\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    tokenCheck()\r\n  }, [])\r\n\r\n\r\n  const signOut = () =>{\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('movies');\r\n    history.push('/signin');\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  const tokenCheck = () => {\r\n    if (localStorage.getItem('token')) {\r\n      let token = localStorage.getItem('token');\r\n      if (token){\r\n        setLoggedIn(true)\r\n      }\r\n      if (localStorage.getItem('movies')){\r\n        setCurrentMovies(JSON.parse(localStorage.getItem('movies')));\r\n      }\r\n      api.getInformation()\r\n        .then(data => {\r\n          setCurrentUser(data.data)\r\n        })\r\n        .catch((err)=>{console.log(err)})\r\n    }\r\n  }\r\n\r\n  const checkUpdateProfileError = (err) => {\r\n    if (err === 'Ошибка: 409'){\r\n      setMessage('Пользователь с таким email уже существует.');\r\n    } else {\r\n      setMessage('При обновлении профиля произошла ошибка.');\r\n    }\r\n  }\r\n\r\n  const updateProfile = (obj, emailChanged) => {\r\n    obj.emailChanged = emailChanged;\r\n    return api.changeProfile(obj)\r\n      .then(data =>{\r\n        setCurrentUser(data);\r\n      })\r\n    .catch(err => checkUpdateProfileError(err))\r\n  }\r\n \r\n  function handleMovieLike(card) {\r\n    return api.postMovies(card).then((newCard) => {\r\n      newCard.isLiked = true\r\n      newCard.isSearched = true\r\n      newCard.show = true\r\n      setCurrentMovies((state) => state.map((c) => c.movieId === card.movieId ? newCard : c));\r\n\r\n      const arr = JSON.parse(localStorage.movies);\r\n      const array = []\r\n      let i=0;\r\n      arr.map(film =>{\r\n        array[i] = film.movieId === card.movieId ? newCard : film;\r\n        i++;\r\n      })\r\n      localStorage.setItem('movies', JSON.stringify(array))\r\n      console.log(JSON.parse(localStorage.movies))\r\n\r\n\r\n    })\r\n    .catch((err)=>{console.log(err)}) \r\n  }\r\n\r\n  function handleMovieDeleteLike(cardId) {\r\n    return api.deleteMovies(cardId).then((newCard) => {\r\n      const array = JSON.parse(localStorage.movies);\r\n      let movies=[]\r\n      for (let i =0 ;i<array.length; i++){\r\n        if (array[i].movieId === newCard.movieId){\r\n          movies[i] = newCard\r\n          movies[i].isLiked = false\r\n          movies[i].isSearched = true\r\n          movies[i].show = true\r\n        } else {\r\n          movies[i] = array[i]\r\n        }\r\n      }\r\n      setCurrentMovies(movies);\r\n      localStorage.setItem('movies', JSON.stringify(movies))\r\n    })\r\n    .catch((err)=>{console.log(err)}) \r\n  }\r\n\r\nconst increaseQuantityCheck = () => {\r\n  increaseQuantity()\r\n}\r\n\r\n  const increaseQuantity = () => {\r\n\r\n    if (JSON.parse(localStorage.movies).length < quantityFilmsOnPage + quantityAddCardOnPage){\r\n      setRemoveButton(true);\r\n    }\r\n    const movieQuantity = quantityFilmsOnPage + quantityAddCardOnPage;\r\n    console.log(quantityFilmsOnPage, quantityAddCardOnPage)\r\n    setQuantityFilmsOnPage(movieQuantity);\r\n  }\r\n\r\n  const handleFilterButtonClick = (nameFilm, shortFilm) => {\r\n    const movie = []\r\n    let i = 0;\r\n    if (nameFilm || shortFilm) {\r\n      localStorage.setItem('isOpen', true);      \r\n    } else {\r\n      localStorage.setItem('isOpen', false);\r\n    }\r\n    const array = JSON.parse(localStorage.movies);\r\n    array.map(film => film.isSearched = false)\r\n    setCurrentMovies(movie => movie.map(film => film.isSearched = false))\r\n    array.forEach(film => {\r\n      if (shortFilm){\r\n        movie[i] = film;\r\n        if(film.duration < 41){\r\n          const str = film.nameRU.toUpperCase();\r\n          const filmName = nameFilm.toUpperCase();\r\n          if (str.indexOf(filmName) !== -1){\r\n            movie[i].isSearched = true;\r\n          }\r\n        }\r\n      } else {\r\n          const str = film.nameRU.toUpperCase();\r\n          const filmName = nameFilm.toUpperCase();\r\n          movie[i] = film;\r\n          if (str.indexOf(filmName) !== -1){\r\n            movie[i].isSearched = true;\r\n          }\r\n      }\r\n      i++;\r\n   })\r\n   setCurrentMovies(movie)\r\n   localStorage.setItem('movies', JSON.stringify(movie))\r\n  //  console.log(JSON.parse(localStorage.movies), 1);\r\n\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <CurrentMoviesContext.Provider value={[currentMovies, setCurrentMovies]}>\r\n          <Switch>\r\n            <Route exact path='/'>\r\n              <Main/>\r\n            </Route>\r\n            <Route path='/signin'>\r\n              <Login\r\n                onLogin={handleLogin}\r\n                message={message}\r\n              />\r\n            </Route>\r\n            <Route path='/signup'>\r\n              <Register\r\n                onRegister={handleRegister}\r\n                message={message}\r\n              />\r\n            </Route>\r\n            <ProtectedRoute path='/movies'\r\n              component={Movies}\r\n              loggedIn={loggedIn}\r\n              cardLike={handleMovieLike}\r\n              moviesList={currentMovies}\r\n              deleteLike={handleMovieDeleteLike}\r\n              filterMovie={handleFilterButtonClick}\r\n              increaseQuantity={increaseQuantityCheck}\r\n              quantityFilmsOnPage = {quantityFilmsOnPage}\r\n              quantityAddCardOnPage={quantityAddCardOnPage}\r\n              removeButton={removeButton}\r\n              determiningQuantityCard={determiningQuantityCard}\r\n              closeAllPopups={closeAllPopups}\r\n              handleMenuButtonClick={handleMenuButtonClick}\r\n              isOpen={isOpen}\r\n            />\r\n            <ProtectedRoute path='/saved-movies'\r\n              component={SavedMovies}\r\n              loggedIn={loggedIn}\r\n              moviesList={currentMovies}\r\n              deleteLike={handleMovieDeleteLike}\r\n              filterMovie={handleFilterButtonClick}\r\n              closeAllPopups={closeAllPopups}\r\n              handleMenuButtonClick={handleMenuButtonClick}\r\n              isOpen={isOpen}\r\n            />\r\n            <ProtectedRoute path='/profile'\r\n              component={Profile}\r\n              loggedIn={loggedIn}\r\n              signOut={signOut}\r\n              infoUser={currentUser}\r\n              update={updateProfile}\r\n              closeAllPopups={closeAllPopups}\r\n              handleMenuButtonClick={handleMenuButtonClick}\r\n              isOpen={isOpen}\r\n              message={message}\r\n            />\r\n            <Route path=\"*\">\r\n              <NotFounded/>\r\n            </Route>\r\n            <Route>\r\n                {loggedIn ? <Redirect to=\"/movies\" /> : <Redirect to=\"/\" />}\r\n            </Route>\r\n          </Switch>\r\n        </CurrentMoviesContext.Provider>\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}